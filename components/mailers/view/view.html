<!-- ko if:$component.viewFlag -->
  <div class="oj-flex mailers-read">
      <div class="oj-flex-item oj-sm-12 oj-md-12 oj-lg-9">
        <div class="form-main-container">

  <page-section params="baseModel : $baseModel, rootModel : $data">

    <row params="baseModel : $baseModel, rootModel : $parent, label : $component.nls.fieldname.mailerId,value :code"></row>
    <row params="baseModel : $baseModel, rootModel : $parent, label : $component.nls.fieldname.mailerName,value :mailerName"></row>
    <row params="baseModel : $baseModel, rootModel : $parent, label : $component.nls.fieldname.sendDate,value :$baseModel.formatDate(activationDate,'dateTimeStampFormat')"></row>
    <row params="baseModel : $baseModel, rootModel : $parent, label : $component.nls.fieldname.sendTime,value : sendTime "></row>
    <row params="baseModel : $baseModel, rootModel : $parent, label : $component.nls.fieldname.priority,value :priority "></row>

    <action-header params="baseModel : $baseModel, rootModel : $data, heading: $component.nls.headers.Mail">
    </action-header>


    <row params="baseModel : $baseModel, rootModel : $parent, label : $component.nls.fieldname.subject,value :subject "></row>

    <div class="oj-flex oj-flex-items-pad">
      <div class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-3 ">
        <oj-label for="messagebody"><span data-bind="text:$component.nls.fieldname.mailBody"></span></oj-label>
      </div>
      <div id="messagebody" class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-9 " data-bind="html:mailBody"></div>
    </div>
    <action-header params="baseModel : $baseModel, rootModel : $data, heading: $component.nls.headers.recepients">
    </action-header>

    <div class="oj-flex oj-flex-items-pad">
      <div class="oj-flex-item oj-sm-12 oj-md-3 oj-lg-3">
        <oj-label><span data-bind="text:$component.nls.fieldname.sendTo"></span></oj-label>
      </div>
      <div class="oj-flex-item oj-sm-12 oj-md-9 oj-lg-9">
        <oj-checkboxset disabled="[[true]]">
          <!-- ko ifnot: $component.mailersPayload.recipients.admin === null || $component.mailersPayload.recipients.admin === ''  -->
          <oj-option :id="[['admincheckbox'+ $baseModel.currentIdCount()]]"><span data-bind="attr:{
                    for: 'admincheckbox' + $baseModel.incrementIdCount()},text:$component.mailersPayload.recipients.admin"></span></oj-option>
          <!-- /ko -->
          <!-- ko ifnot:$component.mailersPayload.recipients.retail === null || $component.mailersPayload.recipients.retail === '' -->
          <oj-option :id="[['retailcheckbox'+ $baseModel.currentIdCount()]]"><span data-bind="attr:{
                    for: 'retailcheckbox' + $baseModel.incrementIdCount()},text: $component.mailersPayload.recipients.retail"></span></oj-option>
          <!-- /ko -->
          <!-- ko ifnot: $component.mailersPayload.recipients.corp === null || $component.mailersPayload.recipients.corp === "" -->
          <oj-option :id="[['corpcheckbox'+ $baseModel.currentIdCount()]]"><span data-bind="attr:{
                    for: 'corpcheckbox' + $baseModel.incrementIdCount()},text:$component.mailersPayload.recipients.corp"></span></oj-option>
          <!-- /ko -->
        </oj-checkboxset>

      </div>
    </div>

    <!-- ko ifnot:$component.mailersPayload.userRecipientsList.length === 0 -->

    <div class="oj-flex oj-flex-items-pad">
      <div class="oj-flex-item oj-sm-12 oj-md-6 oj-lg-3">
        <oj-label for="usersList" class="hide-label"><span data-bind="text:nls.buttons.addUser"></span></oj-label>
      </div>

      <div class="addRecipientBlock oj-flex-item oj-sm-12 oj-md-6 oj-lg-6">

        <span data-bind="text : $component.nls.fieldname.usersList"></span>
        <br>
        <br>
        <oj-text-area class="recipientsTextArea" disabled id="usersList" maxlength="500" rows="5" value="{{$component.mailersPayload.userRecipientsList}}" :placeholder="[[nls.errorMsg.placeHolderAddUser]]"></oj-text-area>

      </div>
    </div>
    <!-- /ko -->

    <!-- ko ifnot:$component.mailersPayload.partyRecipientsList.length === 0 -->

    <div class="oj-flex oj-flex-items-pad">
      <div class="oj-flex-item oj-sm-12 oj-md-6 oj-lg-3">
        <oj-label for="partyList" class="hide-label"><span data-bind="text:nls.buttons.addUser"></span></oj-label>
      </div>

      <div class="addRecipientBlock oj-flex-item oj-sm-12 oj-md-6 oj-lg-6">

        <span data-bind="text : $component.nls.fieldname.partyList"></span>
        <br>
        <br>
        <oj-text-area class="recipientsTextArea" disabled id="partyList" maxlength="500" rows="5" value="{{$component.mailersPayload.partyRecipientsList}}" :placeholder="[[nls.errorMsg.placeHolderAddUser]]"></oj-text-area>

      </div>
    </div>
    <!-- /ko -->
    <div class="oj-flex oj-flex-items-pad button-container">
      <oj-button class="action-button-secondary" on-click="[[$dashboard.openDashBoard.bind($data,$data)]]">
        <span data-bind="text:nls.buttons.cancel"></span>
      </oj-button>
      <oj-button class="action-button-tertiary" on-click="[[$component.backOnView]]">
        <span data-bind="text:nls.buttons.back"></span>
      </oj-button>
      <!-- ko ifnot: $component.status === 'Sent' -->
      <oj-button class="action-button-primary" on-click="[[$component.edit]]">
        <span data-bind="text:nls.buttons.edit"></span>
      </oj-button>
      <oj-button class="action-button-primary" on-click="[[$component.openModal]]">
        <span data-bind="text:$component.nls.buttons.delete"></span>
      </oj-button>
      <!-- /ko -->
    </div>
  </page-section>
</div>
</div>

  <!-- ko if: $baseModel.large() -->
  <div class="oj-flex-item oj-sm-12 oj-md-12 oj-lg-3 help-panel">
    <help params="baseModel : $baseModel, rootModel : $component, transaction: 'mailers'"></help>
  </div>
  <!-- /ko -->
</div>
<!-- /ko -->
<modal-window params="baseModel : $baseModel, rootModel : $component,id:'deleteMailer',,header: $component.nls.headers.deleteHeader">
  <div class="form-main-container message-text">
    <div class="oj-flex oj-flex-items-pad">
      <div class="oj-flex-item">
        <span class="icon icon-warning"></span>
        <span data-bind="text:$component.nls.fieldname.deleteMailerMsg"></span>
      </div>
    </div>
    <div class="oj-flex oj-flex-items-pad button-container">
      <oj-button id="deleteYes" class="action-button-primary" on-click="[[deleteMailer]]">
        <span data-bind="text:$component.nls.genericMailer.yes"></span>
      </oj-button>
      <oj-button id="deleteNo" class="action-button-secondary" on-click="[[$component.deleteNo]]">
        <span data-bind="text:$component.nls.genericMailer.no"></span>
      </oj-button>

    </div>
  </div>
</modal-window>
